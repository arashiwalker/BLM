/*! For license information please see vendor~main~0f485567.f5fcc444d8b9b9f175bc.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+JtM":function(e,t){e.exports={handleError:function(e){}}},"+QdD":function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(r("i0QS")),o=i(r("X7zs"));t.default={getConfig:n.default,getMatches:o.default}},"1OyB":function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return i}))},"1TZY":function(e,t,r){var i=r("zibu"),n=r("7/9u");e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||n(a)}},"1cRM":function(e,t,r){var i=r("4Z/T").sprintf,n=r("Ag8Z"),o=r("IIlb"),a=r("l62r").ERROR_MESSAGES;e.exports={validate:function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(i(a.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));return n(e,(function(e,t){if(void 0===e)throw new Error(i(a.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})),!0},isAttributeValid:function(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||o.isNumber(t)&&o.isFinite(t))}}},"2YhF":function(e,t){e.exports={validate:function(e){return"string"==typeof e&&""!==e}}},"3GJ4":function(e,t,r){var i=r("IIlb"),n=r("hJt/"),o=r("+JtM"),a=r("zLpE"),s=r("l62r"),u=r("m3FK"),E=r("Bd/P");e.exports={logging:u,errorHandler:o,eventDispatcher:a,enums:s,createInstance:function(e){try{var t="logLevel"in e?e.logLevel:s.LOG_LEVEL.INFO,r=u.createLogger({logLevel:s.LOG_LEVEL.INFO});if(e)try{n.validate(e),e.isValidInstance=!0}catch(c){var l="INDEX:"+c.message;e.logger?e.logger.log(s.LOG_LEVEL.ERROR,l):r.log(s.LOG_LEVEL.ERROR,l),e.isValidInstance=!1}return null==e.skipJSONValidation&&(e.skipJSONValidation=!0),e=i.assignIn({clientEngine:s.JAVASCRIPT_CLIENT_ENGINE,errorHandler:o,eventDispatcher:a,logger:u.createLogger({logLevel:t})},e),new E(e)}catch(_){return e.logger.log(s.LOG_LEVEL.ERROR,_.message),e.errorHandler.handleError(_),null}}}},"4Sgf":function(e,t,r){var i=r("Ekp0"),n=r("1TZY"),o=n;o.v1=i,o.v4=n,e.exports=o},"7/9u":function(e,t){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,n=r;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},"7W2i":function(e,t,r){var i=r("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}},"9Mtp":function(e,t,r){var i=r("IIlb"),n=r("l62r"),o=r("4Z/T").sprintf,a=r("2YhF"),s="PROJECT_CONFIG",u=n.ERROR_MESSAGES,E=n.LOG_MESSAGES,l=n.LOG_LEVEL,c=n.FEATURE_VARIABLE_TYPES;e.exports={createProjectConfig:function(e){var t,r=i.cloneDeep(e);return i.forEach(r.audiences,(function(e){e.conditions=JSON.parse(e.conditions)})),r.audiencesById=i.keyBy(r.audiences,"id"),i.assign(r.audiencesById,i.keyBy(r.typedAudiences,"id")),r.attributeKeyMap=i.keyBy(r.attributes,"key"),r.eventKeyMap=i.keyBy(r.events,"key"),r.groupIdMap=i.keyBy(r.groups,"id"),i.forEach(r.groupIdMap,(function(e,n){t=i.cloneDeep(e.experiments),i.forEach(t,(function(e){r.experiments.push(i.assignIn(e,{groupId:n}))}))})),r.rolloutIdMap=i.keyBy(r.rollouts||[],"id"),i.forOwn(r.rolloutIdMap,(function(e){i.forEach(e.experiments||[],(function(e){r.experiments.push(i.cloneDeep(e)),e.variationKeyMap=i.keyBy(e.variations,"key")}))})),r.experimentKeyMap=i.keyBy(r.experiments,"key"),r.experimentIdMap=i.keyBy(r.experiments,"id"),r.variationIdMap={},r.variationVariableUsageMap={},i.forEach(r.experiments,(function(e){e.variationKeyMap=i.keyBy(e.variations,"key"),i.assignIn(r.variationIdMap,i.keyBy(e.variations,"id")),i.forOwn(e.variationKeyMap,(function(e){e.variables&&(r.variationVariableUsageMap[e.id]=i.keyBy(e.variables,"id"))}))})),r.forcedVariationMap={},r.featureKeyMap=i.keyBy(r.featureFlags||[],"key"),i.forOwn(r.featureKeyMap,(function(e){e.variableKeyMap=i.keyBy(e.variables,"key"),i.forEach(e.experimentIds||[],(function(t){var i=r.experimentIdMap[t];if(i.groupId)return e.groupId=i.groupId,!1}))})),r},getExperimentId:function(e,t){var r=e.experimentKeyMap[t];if(i.isEmpty(r))throw new Error(o(u.INVALID_EXPERIMENT_KEY,s,t));return r.id},getLayerId:function(e,t){var r=e.experimentIdMap[t];if(i.isEmpty(r))throw new Error(o(u.INVALID_EXPERIMENT_ID,s,t));return r.layerId},getAttributeId:function(e,t,r){var i=e.attributeKeyMap[t],n=0===t.indexOf("$opt_");return i?(n&&r.log(l.WARN,o("Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_")),i.id):n?t:(r.log(l.DEBUG,o(u.UNRECOGNIZED_ATTRIBUTE,s,t)),null)},getEventId:function(e,t){var r=e.eventKeyMap[t];return r?r.id:null},getExperimentStatus:function(e,t){var r=e.experimentKeyMap[t];if(i.isEmpty(r))throw new Error(o(u.INVALID_EXPERIMENT_KEY,s,t));return r.status},isActive:function(t,r){return"Running"===e.exports.getExperimentStatus(t,r)||"Launched"===e.exports.getExperimentStatus(t,r)},isRunning:function(t,r){return"Running"===e.exports.getExperimentStatus(t,r)},getExperimentAudienceConditions:function(e,t){var r=e.experimentKeyMap[t];if(i.isEmpty(r))throw new Error(o(u.INVALID_EXPERIMENT_KEY,s,t));return r.audienceConditions||r.audienceIds},getVariationKeyFromId:function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},getVariationIdFromExperimentAndVariationKey:function(e,t,r){var i=e.experimentKeyMap[t];return i.variationKeyMap.hasOwnProperty(r)?i.variationKeyMap[r].id:null},getExperimentFromKey:function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var r=e.experimentKeyMap[t];if(r)return r}throw new Error(o(u.EXPERIMENT_KEY_NOT_IN_DATAFILE,s,t))},getTrafficAllocation:function(e,t){var r=e.experimentKeyMap[t];if(i.isEmpty(r))throw new Error(o(u.INVALID_EXPERIMENT_KEY,s,t));return r.trafficAllocation},removeForcedVariation:function(e,t,r,i,n){if(!t)throw new Error(o(u.INVALID_USER_ID,s));if(!e.forcedVariationMap.hasOwnProperty(t))throw new Error(o(u.USER_NOT_IN_FORCED_VARIATION,s,t));delete e.forcedVariationMap[t][r],n.log(l.DEBUG,o(E.VARIATION_REMOVED_FOR_USER,s,i,t))},setInForcedVariationMap:function(e,t,r,i,n){e.forcedVariationMap.hasOwnProperty(t)||(e.forcedVariationMap[t]={}),e.forcedVariationMap[t][r]=i,n.log(l.DEBUG,o(E.USER_MAPPED_TO_FORCED_VARIATION,s,i,r,t))},getForcedVariation:function(e,t,r,i){var n,a=e.forcedVariationMap[r];if(!a)return i.log(l.DEBUG,o(E.USER_HAS_NO_FORCED_VARIATION,s,r)),null;try{var c=this.getExperimentFromKey(e,t);if(!c.hasOwnProperty("id"))return i.log(l.ERROR,o(u.IMPROPERLY_FORMATTED_EXPERIMENT,s,t)),null;n=c.id}catch(p){return i.log(l.ERROR,p.message),null}var _=a[n];if(!_)return i.log(l.DEBUG,o(E.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,s,t,r)),null;var f=this.getVariationKeyFromId(e,_);return i.log(l.DEBUG,o(E.USER_HAS_FORCED_VARIATION,s,f,t,r)),f},setForcedVariation:function(e,t,r,i,n){if(null!=i&&!a.validate(i))return n.log(l.ERROR,o(u.INVALID_VARIATION_KEY,s)),!1;var E;try{var c=this.getExperimentFromKey(e,t);if(!c.hasOwnProperty("id"))return n.log(l.ERROR,o(u.IMPROPERLY_FORMATTED_EXPERIMENT,s,t)),!1;E=c.id}catch(f){return n.log(l.ERROR,f.message),!1}if(null==i)try{return this.removeForcedVariation(e,r,E,t,n),!0}catch(f){return n.log(l.ERROR,f.message),!1}var _=this.getVariationIdFromExperimentAndVariationKey(e,t,i);if(!_)return n.log(l.ERROR,o(u.NO_VARIATION_FOR_EXPERIMENT_KEY,s,i,t)),!1;try{return this.setInForcedVariationMap(e,r,E,_,n),!0}catch(f){return n.log(l.ERROR,f.message),!1}},getExperimentFromId:function(e,t,r){if(e.experimentIdMap.hasOwnProperty(t)){var i=e.experimentIdMap[t];if(i)return i}return r.log(l.ERROR,o(u.INVALID_EXPERIMENT_ID,s,t)),null},getFeatureFromKey:function(e,t,r){if(e.featureKeyMap.hasOwnProperty(t)){var i=e.featureKeyMap[t];if(i)return i}return r.log(l.ERROR,o(u.FEATURE_NOT_IN_DATAFILE,s,t)),null},getVariableForFeature:function(e,t,r,i){var n=e.featureKeyMap[t];if(!n)return i.log(l.ERROR,o(u.FEATURE_NOT_IN_DATAFILE,s,t)),null;var a=n.variableKeyMap[r];return a||(i.log(l.ERROR,o(u.VARIABLE_KEY_NOT_IN_DATAFILE,s,r,t)),null)},getVariableValueForVariation:function(e,t,r,i){if(!t||!r)return null;if(!e.variationVariableUsageMap.hasOwnProperty(r.id))return i.log(l.ERROR,o(u.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,s,r.id)),null;var n=e.variationVariableUsageMap[r.id][t.id];return n?n.value:t.defaultValue},getTypeCastValue:function(e,t,r){var i;switch(t){case c.BOOLEAN:"true"!==e&&"false"!==e?(r.log(l.ERROR,o(u.UNABLE_TO_CAST_VALUE,s,e,t)),i=null):i="true"===e;break;case c.INTEGER:i=parseInt(e,10),isNaN(i)&&(r.log(l.ERROR,o(u.UNABLE_TO_CAST_VALUE,s,e,t)),i=null);break;case c.DOUBLE:i=parseFloat(e),isNaN(i)&&(r.log(l.ERROR,o(u.UNABLE_TO_CAST_VALUE,s,e,t)),i=null);break;default:i=e}return i},getAudiencesById:function(e){return e.audiencesById},eventWithKeyExists:function(e,t){return e.eventKeyMap.hasOwnProperty(t)}}},BBje:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(r("q1tI"));t.default=function(e){var t=e.children,r=e.statusCode,i=e.staticContext;return i&&r&&(i.statusCode=r),n.default.createElement(n.default.Fragment,null,t)}},"Bd/P":function(e,t,r){var i=r("IIlb"),n=r("1cRM"),o=r("m5xk"),a=r("l62r"),s=r("Njgb"),u=r("Zx3y"),E=r("lAS9"),l=r("9Mtp"),c=r("RCIV"),_=r("4Z/T").sprintf,f=r("nx31"),p=r("2YhF"),I=r("hJt/"),d=a.ERROR_MESSAGES,g=a.LOG_LEVEL,N=a.LOG_MESSAGES,O="OPTIMIZELY",R=a.DECISION_SOURCES,T=a.FEATURE_VARIABLE_TYPES;function v(e){var t=e.clientEngine;t!==a.NODE_CLIENT_ENGINE&&t!==a.JAVASCRIPT_CLIENT_ENGINE&&(e.logger.log(g.INFO,_(N.INVALID_CLIENT_ENGINE,O,t)),t=a.NODE_CLIENT_ENGINE),this.clientEngine=t,this.clientVersion=e.clientVersion||a.NODE_CLIENT_VERSION,this.errorHandler=e.errorHandler,this.eventDispatcher=e.eventDispatcher,this.isValidInstance=e.isValidInstance,this.logger=e.logger;try{I.validateDatafile(e.datafile),("string"==typeof e.datafile||e.datafile instanceof String)&&(e.datafile=JSON.parse(e.datafile)),!0===e.skipJSONValidation?(this.configObj=l.createProjectConfig(e.datafile),this.logger.log(g.INFO,_(N.SKIPPING_JSON_VALIDATION,O))):e.jsonSchemaValidator.validate(c,e.datafile)&&(this.configObj=l.createProjectConfig(e.datafile),this.logger.log(g.INFO,_(N.VALID_DATAFILE,O)))}catch(i){this.isValidInstance=!1,this.logger.log(g.ERROR,i.message),this.errorHandler.handleError(i)}var r=null;if(e.userProfileService)try{f.validate(e.userProfileService)&&(r=e.userProfileService,this.logger.log(g.INFO,_(N.VALID_USER_PROFILE_SERVICE,O)))}catch(i){this.logger.log(g.WARNING,i.message)}this.decisionService=o.createDecisionService({configObj:this.configObj,userProfileService:r,logger:this.logger}),this.notificationCenter=E.createNotificationCenter({logger:this.logger,errorHandler:this.errorHandler})}v.prototype.activate=function(e,t,r){try{if(!this.isValidInstance)return this.logger.log(g.ERROR,_(N.INVALID_OBJECT,O,"activate")),null;if(!this.__validateInputs({experiment_key:e,user_id:t},r))return this.__notActivatingExperiment(e,t);try{var i=this.getVariation(e,t,r);if(null===i)return this.__notActivatingExperiment(e,t);if(!l.isRunning(this.configObj,e)){var n=_(N.SHOULD_NOT_DISPATCH_ACTIVATE,O,e);return this.logger.log(g.DEBUG,n),i}return this._sendImpressionEvent(e,i,t,r),i}catch(a){this.logger.log(g.ERROR,a.message);var o=_(N.NOT_ACTIVATING_USER,O,t,e);return this.logger.log(g.INFO,o),this.errorHandler.handleError(a),null}}catch(s){return this.logger.log(g.ERROR,s.message),this.errorHandler.handleError(s),null}},v.prototype._sendImpressionEvent=function(e,t,r,i){var n=l.getVariationIdFromExperimentAndVariationKey(this.configObj,e,t),o=l.getExperimentId(this.configObj,e),u={attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:this.configObj,experimentId:o,userId:r,variationId:n,logger:this.logger},E=s.getImpressionEvent(u),c=_(N.DISPATCH_IMPRESSION_EVENT,O,E.url,JSON.stringify(E.params));this.logger.log(g.DEBUG,c);var f=function(){var t=_(N.ACTIVATE_USER,O,r,e);this.logger.log(g.INFO,t)}.bind(this);this.__dispatchEvent(E,f);var p,I=this.configObj.experimentKeyMap[e];I&&I.variationKeyMap&&(p=I.variationKeyMap[t]),this.notificationCenter.sendNotifications(a.NOTIFICATION_TYPES.ACTIVATE,{experiment:I,userId:r,attributes:i,variation:p,logEvent:E})},v.prototype.track=function(e,t,r,i){try{if(!this.isValidInstance)return void this.logger.log(g.ERROR,_(N.INVALID_OBJECT,O,"track"));try{if(!this.__validateInputs({user_id:t,event_key:e},r,i))return;if(!l.eventWithKeyExists(this.configObj,e))throw new Error(_(d.INVALID_EVENT_KEY,O,e));i=this.__filterEmptyValues(i);var n={attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:this.configObj,eventKey:e,eventTags:i,logger:this.logger,userId:t},o=s.getConversionEvent(n),u=_(N.DISPATCH_CONVERSION_EVENT,O,o.url,JSON.stringify(o.params));this.logger.log(g.DEBUG,u);var E=function(){var r=_(N.TRACK_EVENT,O,e,t);this.logger.log(g.INFO,r)}.bind(this);this.__dispatchEvent(o,E),this.notificationCenter.sendNotifications(a.NOTIFICATION_TYPES.TRACK,{eventKey:e,userId:t,attributes:r,eventTags:i,logEvent:o})}catch(f){this.logger.log(g.ERROR,f.message);var c=_(N.NOT_TRACKING_USER,O,t);this.logger.log(g.INFO,c),this.errorHandler.handleError(f)}}catch(p){return this.logger.log(g.ERROR,p.message),void this.errorHandler.handleError(p)}},v.prototype.getVariation=function(e,t,r){try{if(!this.isValidInstance)return this.logger.log(g.ERROR,_(N.INVALID_OBJECT,O,"getVariation")),null;try{if(!this.__validateInputs({experiment_key:e,user_id:t},r))return null;var n=this.configObj.experimentKeyMap[e];return i.isEmpty(n)?(this.logger.log(g.DEBUG,_(d.INVALID_EXPERIMENT_KEY,O,e)),null):this.decisionService.getVariation(e,t,r)}catch(o){return this.logger.log(g.ERROR,o.message),this.errorHandler.handleError(o),null}}catch(a){return this.logger.log(g.ERROR,a.message),this.errorHandler.handleError(a),null}},v.prototype.setForcedVariation=function(e,t,r){if(!this.__validateInputs({experiment_key:e,user_id:t}))return!1;try{return l.setForcedVariation(this.configObj,e,t,r,this.logger)}catch(i){return this.logger.log(g.ERROR,i.message),this.errorHandler.handleError(i),!1}},v.prototype.getForcedVariation=function(e,t){if(!this.__validateInputs({experiment_key:e,user_id:t}))return null;try{return l.getForcedVariation(this.configObj,e,t,this.logger)}catch(r){return this.logger.log(g.ERROR,r.message),this.errorHandler.handleError(r),null}},v.prototype.__validateInputs=function(e,t,r){try{if(e.hasOwnProperty("user_id")){var i=e.user_id;if("string"!=typeof i||null===i||"undefined"===i)throw new Error(_(d.INVALID_INPUT_FORMAT,O,"user_id"));delete e.user_id}for(var o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];if(!p.validate(e[s]))throw new Error(_(d.INVALID_INPUT_FORMAT,O,s))}return t&&n.validate(t),r&&u.validate(r),!0}catch(E){return this.logger.log(g.ERROR,E.message),this.errorHandler.handleError(E),!1}},v.prototype.__notActivatingExperiment=function(e,t){var r=_(N.NOT_ACTIVATING_USER,O,t,e);return this.logger.log(g.INFO,r),null},v.prototype.__dispatchEvent=function(e,t){var r=this.eventDispatcher.dispatchEvent(e,t);i.isEmpty(r)||"function"!=typeof r.then||r.then((function(){t()}))},v.prototype.__filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},v.prototype.isFeatureEnabled=function(e,t,r){try{if(!this.isValidInstance)return this.logger.log(g.ERROR,_(N.INVALID_OBJECT,O,"isFeatureEnabled")),!1;if(!this.__validateInputs({feature_key:e,user_id:t},r))return!1;var i=l.getFeatureFromKey(this.configObj,e,this.logger);if(!i)return!1;var n=this.decisionService.getVariationForFeature(i,t,r),o=n.variation;return o&&(n.decisionSource===R.EXPERIMENT&&this._sendImpressionEvent(n.experiment.key,n.variation.key,t,r),!0===o.featureEnabled)?(this.logger.log(g.INFO,_(N.FEATURE_ENABLED_FOR_USER,O,e,t)),!0):(this.logger.log(g.INFO,_(N.FEATURE_NOT_ENABLED_FOR_USER,O,e,t)),!1)}catch(a){return this.logger.log(g.ERROR,a.message),this.errorHandler.handleError(a),!1}},v.prototype.getEnabledFeatures=function(e,t){try{var r=[];return this.isValidInstance?this.__validateInputs({user_id:e})?(i.forOwn(this.configObj.featureKeyMap,function(i){this.isFeatureEnabled(i.key,e,t)&&r.push(i.key)}.bind(this)),r):r:(this.logger.log(g.ERROR,_(N.INVALID_OBJECT,O,"getEnabledFeatures")),r)}catch(n){return this.logger.log(g.ERROR,n.message),this.errorHandler.handleError(n),[]}},v.prototype._getFeatureVariableForType=function(e,t,r,i,n){if(!this.isValidInstance){var o="getFeatureVariable"+r.charAt(0).toUpperCase()+r.slice(1);return this.logger.log(g.ERROR,_(N.INVALID_OBJECT,O,o)),null}if(!this.__validateInputs({feature_key:e,variable_key:t,user_id:i},n))return null;var a=l.getFeatureFromKey(this.configObj,e,this.logger);if(!a)return null;var s=l.getVariableForFeature(this.configObj,e,t,this.logger);if(!s)return null;if(s.type!==r)return this.logger.log(g.WARNING,_(N.VARIABLE_REQUESTED_WITH_WRONG_TYPE,O,r,s.type)),null;var u,E=this.decisionService.getVariationForFeature(a,i,n);return null!==E.variation?(u=l.getVariableValueForVariation(this.configObj,s,E.variation,this.logger),this.logger.log(g.INFO,_(N.USER_RECEIVED_VARIABLE_VALUE,O,t,a.key,u,i))):(u=s.defaultValue,this.logger.log(g.INFO,_(N.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,O,i,t,a.key))),l.getTypeCastValue(u,r,this.logger)},v.prototype.getFeatureVariableBoolean=function(e,t,r,i){try{return this._getFeatureVariableForType(e,t,T.BOOLEAN,r,i)}catch(n){return this.logger.log(g.ERROR,n.message),this.errorHandler.handleError(n),null}},v.prototype.getFeatureVariableDouble=function(e,t,r,i){try{return this._getFeatureVariableForType(e,t,T.DOUBLE,r,i)}catch(n){return this.logger.log(g.ERROR,n.message),this.errorHandler.handleError(n),null}},v.prototype.getFeatureVariableInteger=function(e,t,r,i){try{return this._getFeatureVariableForType(e,t,T.INTEGER,r,i)}catch(n){return this.logger.log(g.ERROR,n.message),this.errorHandler.handleError(n),null}},v.prototype.getFeatureVariableString=function(e,t,r,i){try{return this._getFeatureVariableForType(e,t,T.STRING,r,i)}catch(n){return this.logger.log(g.ERROR,n.message),this.errorHandler.handleError(n),null}},e.exports=v},CMYY:function(e,t,r){var i=r("IIlb"),n=r("l62r"),o=r("4Z/T").sprintf,a=n.LOG_LEVEL,s=n.LOG_MESSAGES,u="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",E=["exact","exists","gt","lt","substring"],l={};function c(e){return"string"==typeof e||"boolean"==typeof e||i.isNumber(e)}function _(e,t,r){var n=e.value,E=typeof n,l=e.name,_=t[l],f=typeof _;return!c(n)||i.isNumber(n)&&!i.isFinite(n)?(r.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,u,JSON.stringify(e))),null):null===_?(r.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,u,JSON.stringify(e),l)),null):c(_)&&E===f?i.isNumber(_)&&!i.isFinite(_)?(r.log(a.WARNING,o(s.OUT_OF_BOUNDS,u,JSON.stringify(e),l)),null):n===_:(r.log(a.WARNING,o(s.UNEXPECTED_TYPE,u,JSON.stringify(e),f,l)),null)}l.exact=_,l.exists=function(e,t){var r=t[e.name];return null!=r},l.gt=function(e,t,r){var n=e.name,E=t[n],l=typeof E,c=e.value;if(!i.isFinite(c))return r.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,u,JSON.stringify(e))),null;if(null===E)return r.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,u,JSON.stringify(e),n)),null;if(!i.isNumber(E))return r.log(a.WARNING,o(s.UNEXPECTED_TYPE,u,JSON.stringify(e),l,n)),null;if(!i.isFinite(E))return r.log(a.WARNING,o(s.OUT_OF_BOUNDS,u,JSON.stringify(e),n)),null;return E>c},l.lt=function(e,t,r){var n=e.name,E=t[e.name],l=typeof E,c=e.value;if(!i.isFinite(c))return r.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,u,JSON.stringify(e))),null;if(null===E)return r.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,u,JSON.stringify(e),n)),null;if(!i.isNumber(E))return r.log(a.WARNING,o(s.UNEXPECTED_TYPE,u,JSON.stringify(e),l,n)),null;if(!i.isFinite(E))return r.log(a.WARNING,o(s.OUT_OF_BOUNDS,u,JSON.stringify(e),n)),null;return E<c},l.substring=function(e,t,r){var i=e.name,n=t[e.name],E=typeof n,l=e.value;if("string"!=typeof l)return r.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,u,JSON.stringify(e))),null;if(null===n)return r.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,u,JSON.stringify(e),i)),null;if("string"!=typeof n)return r.log(a.WARNING,o(s.UNEXPECTED_TYPE,u,JSON.stringify(e),E,i)),null;return-1!==n.indexOf(l)},e.exports={evaluate:function(e,t,r){if("custom_attribute"!==e.type)return r.log(a.WARNING,o(s.UNKNOWN_CONDITION_TYPE,u,JSON.stringify(e))),null;var i=e.match;if(void 0!==i&&-1===E.indexOf(i))return r.log(a.WARNING,o(s.UNKNOWN_MATCH_TYPE,u,JSON.stringify(e))),null;var n=e.name;return t.hasOwnProperty(n)||"exists"==i?(l[i]||_)(e,t,r):(r.log(a.DEBUG,o(s.MISSING_ATTRIBUTE_VALUE,u,JSON.stringify(e),n)),null)}}},Ekp0:function(e,t,r){var i,n,o=r("zibu"),a=r("7/9u"),s=0,u=0;e.exports=function(e,t,r){var E=t&&r||0,l=t||[],c=(e=e||{}).node||i,_=void 0!==e.clockseq?e.clockseq:n;if(null==c||null==_){var f=o();null==c&&(c=i=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==_&&(_=n=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),I=void 0!==e.nsecs?e.nsecs:u+1,d=p-s+(I-u)/1e4;if(d<0&&void 0===e.clockseq&&(_=_+1&16383),(d<0||p>s)&&void 0===e.nsecs&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=I,n=_;var g=(1e4*(268435455&(p+=122192928e5))+I)%4294967296;l[E++]=g>>>24&255,l[E++]=g>>>16&255,l[E++]=g>>>8&255,l[E++]=255&g;var N=p/4294967296*1e4&268435455;l[E++]=N>>>8&255,l[E++]=255&N,l[E++]=N>>>24&15|16,l[E++]=N>>>16&255,l[E++]=_>>>8|128,l[E++]=255&_;for(var O=0;O<6;++O)l[E+O]=c[O];return t||a(l)}},IIlb:function(e,t,r){var i=r("4Sgf"),n=r("lFKM"),o=Math.pow(2,53);e.exports={assign:r("3OWR"),assignIn:r("qbnB"),cloneDeep:r("BkRI"),currentTimestamp:function(){return Math.round((new Date).getTime())},isArray:r("Z0cm"),isEmpty:r("E+oP"),isFinite:function(e){return n(e)&&Math.abs(e)<=o},keyBy:r("QVEU"),filter:r("k4Da"),forEach:r("bNQv"),forOwn:r("Ag8Z"),map:r("3WF5"),uuid:function(){return i.v4()},values:r("P/G1"),isNumber:r("UB5X")}},"IP+g":function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r("w4IE")),i(r("kkxh"))},IQ6H:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("q1tI"),n=r("teW/"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},u=n.createContext({optimizely:null,isServerSide:!1,timeout:0}),E=u.Consumer,l=u.Provider,c=E,_=l;var f=function(e){function t(t){var r=e.call(this,t)||this,i=t.optimizely,n=t.userId,o=t.userAttributes;return r.sdkWrapper=function(e){var t=e.instance,r=e.userId,i=e.userAttributes;function n(e,t){return[void 0!==e?e:r,(void 0!==t?t:i)||{}]}return Object.assign(Object.create(t),{activate:function(e,r,i){return t.activate.apply(t,[e].concat(n(r,i)))},getVariation:function(e,r,i){return t.getVariation.apply(t,[e].concat(n(r,i)))},getFeatureVariables:function(e,r,i){return t.getFeatureVariables.apply(t,[e].concat(n(r,i)))},getFeatureVariableInteger:function(e,r,i,o){return t.getFeatureVariableInteger.apply(t,[e,r].concat(n(i,o)))},getFeatureVariableString:function(e,r,i,o){return t.getFeatureVariableString.apply(t,[e,r].concat(n(i,o)))},getFeatureVariableBoolean:function(e,r,i,o){return t.getFeatureVariableBoolean.apply(t,[e,r].concat(n(i,o)))},getFeatureVariableDouble:function(e,r,i,o){return t.getFeatureVariableDouble.apply(t,[e,r].concat(n(i,o)))},isFeatureEnabled:function(e,r,i){return t.isFeatureEnabled.apply(t,[e].concat(n(r,i)))},track:function(e,r,i,o){void 0!==r&&"string"!=typeof r&&(o=r,r=void 0,i=void 0);var a=n(r,i),s=a[0],u=a[1];return t.track(e,s,u,o)}})}({instance:i,userId:n,userAttributes:o}),r}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.children,r=e.timeout,n=!!this.props.isServerSide,o={optimizely:this.sdkWrapper,isServerSide:n,timeout:r};return i.createElement(_,{value:o},t)},t}(i.Component);function p(e){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.render=function(){var t=this;return i.createElement(c,null,(function(r){return i.createElement(e,s({},t.props,{optimizely:r.optimizely,optimizelyReadyTimeout:r.timeout,isServerSide:r.isServerSide}))}))},r}(i.Component)}var I=p(function(e){function t(t){var r=e.call(this,t)||this,i=t.isServerSide,n=t.optimizely,o=t.feature;if(i){if(null===n)throw new Error("optimizely prop must be supplied");var a=n.isFeatureEnabled(o),s=n.getFeatureVariables(o);r.state={canRender:!0,isEnabled:a,variables:s}}else r.state={canRender:!1,isEnabled:!1,variables:{}};return r}return a(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.feature,i=t.optimizely,n=t.optimizelyReadyTimeout;if(null===i)throw new Error("optimizely prop must be supplied");i.onReady({timeout:n}).then((function(){var t=i.isFeatureEnabled(r),n=i.getFeatureVariables(r);e.setState({canRender:!0,isEnabled:t,variables:n})}))},t.prototype.render=function(){var e=this.props.children,t=this.state,r=t.isEnabled,i=t.variables;return t.canRender?e(r,i):null},t}(i.Component)),d=p(function(e){function t(t){var r=e.call(this,t)||this,i=t.isServerSide,n=t.optimizely,o=t.experiment;if(i){if(null===n)throw new Error("optimizely prop must be supplied");var a=n.activate(o);r.state={canRender:!0,variation:a}}else r.state={canRender:!1,variation:null};return r}return a(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.experiment,i=t.optimizely,n=t.optimizelyReadyTimeout;if(!i)throw new Error("optimizely prop must be supplied");i.onReady({timeout:n}).then((function(){var t=i.activate(r);e.setState({canRender:!0,variation:t})}))},t.prototype.render=function(){var e=this.props.children,t=this.state,r=t.variation;if(!t.canRender)return null;if(null!=e&&"function"==typeof e)return e(r);var n=null;return i.Children.forEach(this.props.children,(function(e){!n&&i.isValidElement(e)&&(e.props.variation?r===e.props.variation&&(n=e):e.props.default&&(n=e))})),n?i.cloneElement(n,{variation:r}):null},t}(i.Component)),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return this.props.children},t}(i.Component);t.OptimizelyProvider=f,t.OptimizelyFeature=I,t.withOptimizely=p,t.OptimizelyExperiment=d,t.OptimizelyVariation=g},J4zp:function(e,t,r){var i=r("wTVA"),n=r("m0LI"),o=r("ZhPi"),a=r("wkBT");e.exports=function(e,t){return i(e)||n(e,t)||o(e,t)||a()}},MVZn:function(e,t,r){var i=r("lSNA");e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}},Mclf:function(e,t){var r=["and","or","not"];function i(e,t){if(Array.isArray(e)){var n=e[0],o=e.slice(1);switch(-1===r.indexOf(n)&&(n="or",o=e),n){case"and":return function(e,t){for(var r=!1,n=0;n<e.length;n++){var o=i(e[n],t);if(!1===o)return!1;null===o&&(r=!0)}return!r||null}(o,t);case"not":return function(e,t){if(e.length>0){var r=i(e[0],t);return null===r?null:!r}return null}(o,t);default:return function(e,t){for(var r=!1,n=0;n<e.length;n++){var o=i(e[n],t);if(!0===o)return!0;null===o&&(r=!0)}return!!r&&null}(o,t)}}return t(e)}e.exports={evaluate:i}},Njgb:function(e,t,r){var i=r("l62r"),n=r("IIlb"),o=r("h5Sn"),a=r("9Mtp"),s=r("1cRM"),u="https://logx.optimizely.com/v1/events";function E(e){var t=e.attributes,r=e.configObj,o=r.anonymizeIP,u=r.botFiltering;null==o&&(o=!1);var E={snapshots:[],visitor_id:e.userId,attributes:[]},l={account_id:r.accountId,project_id:r.projectId,visitors:[E],revision:r.revision,client_name:e.clientEngine,client_version:e.clientVersion,anonymize_ip:o,enrich_decisions:!0};return n.forOwn(t,(function(r,i){if(s.isAttributeValid(i,r)){var n=a.getAttributeId(e.configObj,i,e.logger);n&&l.visitors[0].attributes.push({entity_id:n,key:i,type:"custom",value:t[i]})}})),"boolean"==typeof u&&l.visitors[0].attributes.push({entity_id:i.CONTROL_ATTRIBUTES.BOT_FILTERING,key:i.CONTROL_ATTRIBUTES.BOT_FILTERING,type:"custom",value:u}),l}e.exports={getImpressionEvent:function(e){var t={httpVerb:"POST"},r=E(e);t.url=u;var i,o,s,l=(i=e.configObj,o=e.experimentId,s=e.variationId,{decisions:[{campaign_id:a.getLayerId(i,o),experiment_id:o,variation_id:s}],events:[{entity_id:a.getLayerId(i,o),timestamp:n.currentTimestamp(),key:"campaign_activated",uuid:n.uuid()}]});return r.visitors[0].snapshots.push(l),t.params=r,t},getConversionEvent:function(e){var t={httpVerb:"POST"},r=E(e);t.url=u;var s=function(e,t,r,s){var u={events:[]},E={entity_id:a.getEventId(e,t),timestamp:n.currentTimestamp(),uuid:n.uuid(),key:t};if(r){var l=o.getRevenueValue(r,s);null!==l&&(E[i.RESERVED_EVENT_KEYWORDS.REVENUE]=l);var c=o.getEventValue(r,s);null!==c&&(E[i.RESERVED_EVENT_KEYWORDS.VALUE]=c),E.tags=r}return u.events.push(E),u}(e.configObj,e.eventKey,e.eventTags,e.logger);return r.visitors[0].snapshots=[s],t.params=r,t}}},Nsbk:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},QILm:function(e,t,r){var i=r("8OQS");e.exports=function(e,t){if(null==e)return{};var r,n,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},QkKZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("3GJ4"),n=function(){return(n=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};var o=function(){function e(e){this.datafile=e.datafile}return e.prototype.load=function(){return this.datafile},e}(),a=function(){function e(e){this.sdkKey=e.sdkKey,this.localStorageKey=e.localStorageKey||"optly_fs_datafile"}return e.prototype.load=function(){var e=this,t=this.getFromCache(),r=this.fetchDatafile().then((function(t){return e.saveToCache(t),t}));return t&&this.shouldUseCache(t)?t.datafile:r},e.prototype.saveToCache=function(e){var t=this;if("undefined"!=typeof window){var r={datafile:e,metadata:{timestampCached:Date.now()}};setTimeout((function(){window.localStorage.setItem(t.localStorageKey,JSON.stringify(r))}),0)}},e.prototype.shouldUseCache=function(t){return Date.now()-t.metadata.timestampCached<=e.MAX_CACHE_AGE_MS},e.prototype.fetchDatafile=function(){var t="https://cdn.optimizely.com/datafiles/"+this.sdkKey+".json";return new Promise((function(r,i){var n=new XMLHttpRequest;n.open(e.GET_METHOD,t,!0),n.onreadystatechange=function(){if(n.readyState===e.READY_STATE_COMPLETE){if(n.status>=400)return void i("Error response fetching datafile");var t=void 0;try{t=JSON.parse(n.response)}catch(o){return void i("Datafile was not valid JSON. Got: "+n.response)}r(t)}},n.send()}))},e.prototype.getFromCache=function(){if("undefined"==typeof window)return null;var e,t=window.localStorage.getItem(this.localStorageKey);if(!t)return null;try{e=JSON.parse(t)}catch(r){e=null}return e},e.MAX_CACHE_AGE_MS=6048e5,e.GET_METHOD="GET",e.READY_STATE_COMPLETE=4,e}(),s=function(){function e(e){this.loader=e,this._hasLoaded=!1,this.promise=this.load()}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLoaded",{get:function(){return this._hasLoaded},enumerable:!0,configurable:!0}),e.prototype.updateStateFromLoadResult=function(e){this._value=e,this._hasLoaded=!0},e.prototype.load=function(){var e=this,t=this.loader.load();return t instanceof Promise?t.then((function(t){return e.updateStateFromLoadResult(t),t})):(this.updateStateFromLoadResult(t),Promise.resolve(t))},e}(),u=function(){function e(){}return e.prototype.addNotificationListener=function(e,t){return console.warn("NotificationCenter must be setup after optimizely is initialized. (eg `await optimizely.onReady()`)"),-1},e.prototype.removeNotificationListener=function(e){return console.warn("NotificationCenter must be setup after optimizely is initialized. (eg `await optimizely.onReady()`)"),!1},e.prototype.clearAllNotificationListeners=function(){},e.prototype.clearNotificationListeners=function(e){},e}(),E=function(){function e(e){void 0===e&&(e={});var t=this;this.notificationCenter=new u,this.initialConfig=e,this.isInitialized=!1,this.datafile=null,this.trackEventQueue=[],this.datafileResource=this.setupDatafileResource(e),this.datafileResource.hasLoaded?(this.onInitialized(),this.initializingPromise=Promise.resolve()):this.initializingPromise=this.datafileResource.promise.then((function(){t.onInitialized()}))}return e.prototype.onReady=function(e){var t,r=this;return void 0===e&&(e={}),null==e.timeout?this.initializingPromise.then((function(){return!0}),(function(e){return!1})):Promise.race([this.initializingPromise,new Promise((function(r){t=setTimeout((function(){return r()}),e.timeout)}))]).then((function(){return r.isInitialized&&t&&clearTimeout(t),r.isInitialized}))},e.prototype.activate=function(e,t,r){return this.isInitialized?this.instance.activate(e,t,r):null},e.prototype.getVariation=function(e,t,r){return this.isInitialized?this.instance.getVariation(e,t,r):null},e.prototype.track=function(e,t,r,i){this.isInitialized?this.instance.track(e,t,r,i):this.trackEventQueue.push([e,t,r,i])},e.prototype.isFeatureEnabled=function(e,t,r){return!!this.isInitialized&&this.instance.isFeatureEnabled(e,t,r)},e.prototype.getFeatureVariables=function(e,t,r){var i=this;if(!this.isInitialized)return{};var n=this.getVariableDefsForFeature(e);if(!n)return{};var o={};return n.forEach((function(n){var a=n.key;switch(n.type){case"string":o[a]=i.instance.getFeatureVariableString(e,a,t,r);break;case"boolean":o[a]=i.instance.getFeatureVariableBoolean(e,a,t,r);break;case"integer":o[a]=i.instance.getFeatureVariableInteger(e,a,t,r);break;case"double":o[a]=i.instance.getFeatureVariableDouble(e,a,t,r)}})),o},e.prototype.getFeatureVariableString=function(e,t,r,i){return this.isInitialized?this.instance.getFeatureVariableString(e,t,r,i):null},e.prototype.getFeatureVariableBoolean=function(e,t,r,i){return this.isInitialized?this.instance.getFeatureVariableBoolean(e,t,r,i):null},e.prototype.getFeatureVariableInteger=function(e,t,r,i){return this.isInitialized?this.instance.getFeatureVariableInteger(e,t,r,i):null},e.prototype.getFeatureVariableDouble=function(e,t,r,i){return this.isInitialized?this.instance.getFeatureVariableDouble(e,t,r,i):null},e.prototype.getEnabledFeatures=function(e,t){return this.isInitialized?this.instance.getEnabledFeatures(e,t):[]},e.prototype.getForcedVariation=function(e,t){return this.instance.getForcedVariation(e,t)},e.prototype.setForcedVariation=function(e,t,r){return this.instance.setForcedVariation(e,t,r)},e.prototype.getVariableDefsForFeature=function(e){if(!this.datafile)return null;var t=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}(this.datafile.featureFlags,(function(t){return t.key===e}));return t?t.variables:null},e.prototype.flushTrackEventQueue=function(){for(;this.trackEventQueue.length;){var e=this.trackEventQueue.shift();this.track.apply(this,e)}},e.prototype.setupDatafileResource=function(e){var t;if(e.datafile)t=new o({datafile:e.datafile});else{if(!e.sdkKey)throw new Error('Must supply either "datafile", "sdkKey"');t=new a({sdkKey:e.sdkKey})}return new s(t)},e.prototype.onInitialized=function(){var e=this.datafileResource.value;e&&(this.datafile=e),this.datafile&&(this.isInitialized=!0,this.instance=i.createInstance(n({},this.initialConfig,{datafile:this.datafile})),this.notificationCenter=this.instance.notificationCenter,this.flushTrackEventQueue())},e}(),l={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},c={EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_KEY:"%s: Event key %s is not in datafile.",INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",JSON_SCHEMA_EXPECTED:"%s: JSON schema expected.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},_={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SET_LOG_LEVEL:'%s: Setting log level to "%s"',SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is in "Launched" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",USER_ASSIGNED_TO_VARIATION_BUCKET:"%s: Assigned variation bucket %s to user %s.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned experiment bucket %s to user %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s bucketed into everyone targeting rule.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',USER_RECEIVED_VARIABLE_VALUE:'%s: Value for variable "%s" of feature flag "%s" is %s for user "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for experiment "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for experiment %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].'},f={REVENUE:"revenue",VALUE:"value"},p={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent"},I={ACTIVATE:"ACTIVATE:experiment, user_id,attributes, variation, event",TRACK:"TRACK:event_key, user_id, attributes, event_tags, event"},d={EXPERIMENT:"experiment",ROLLOUT:"rollout"},g={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"},N={V2:"2",V3:"3",V4:"4"},O={LOG_LEVEL:l,ERROR_MESSAGES:c,LOG_MESSAGES:_,DEFAULT_LOGGER_MESSAGE_TEMPLATE:"%s - %s %s %s",RESERVED_EVENT_KEYWORDS:f,CONTROL_ATTRIBUTES:p,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",NODE_CLIENT_VERSION:"3.0.1",NOTIFICATION_TYPES:I,DECISION_SOURCES:d,FEATURE_VARIABLE_TYPES:g,DATAFILE_VERSIONS:N};var R=Object.freeze({default:O,__moduleExports:O,LOG_LEVEL:l,ERROR_MESSAGES:c,LOG_MESSAGES:_,DEFAULT_LOGGER_MESSAGE_TEMPLATE:"%s - %s %s %s",RESERVED_EVENT_KEYWORDS:f,CONTROL_ATTRIBUTES:p,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",NODE_CLIENT_VERSION:"3.0.1",NOTIFICATION_TYPES:I,DECISION_SOURCES:d,FEATURE_VARIABLE_TYPES:g,DATAFILE_VERSIONS:N});t.createInstance=function(e){return new E(e)},t.enums=R,t.OptimizelySDKWrapper=E},RCIV:function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{projectId:{type:"string",required:!0},accountId:{type:"string",required:!0},groups:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},policy:{type:"string",required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0},events:{type:"array",items:{type:"object",properties:{key:{type:"string",required:!0},experimentIds:{type:"array",items:{type:"string",required:!0}},id:{type:"string",required:!0}}},required:!0},audiences:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},name:{type:"string",required:!0},conditions:{type:"string",required:!0}}},required:!0},attributes:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},version:{type:"string",required:!0},revision:{type:"string",required:!0}}}},SksO:function(e,t){function r(t,i){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,i)}e.exports=r},U8pU:function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return i}))},VbXa:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},W8MJ:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}},X7zs:function(e,t,r){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var n=r("Ty5D");t.default=function e(t,r,o,a){var s,u;void 0===r&&(r={as:"default",path:"/"}),void 0===o&&(o=[]),void 0===a&&(a=0);var E=0;try{for(var l=i(t),c=l.next();!c.done;c=l.next()){var _=c.value;if("switch"!==r.as||!E){var f=_.path?n.matchPath(r.path,_):o.length?o[o.length-1].matched:{isExact:"/"===r.path,params:{},path:"/",url:"/"};f&&(o.push({route:_,matched:f}),_.routes&&e(_.routes,r,o,++a),++E)}}}catch(p){s={error:p}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return o}},ZhPi:function(e,t,r){var i=r("WkPL");e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}},Zx3y:function(e,t,r){var i=r("4Z/T").sprintf,n=r("l62r").ERROR_MESSAGES;e.exports={validate:function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(i(n.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"));return!0}}},a1gu:function(e,t,r){var i=r("cDf5"),n=r("PJYZ");e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?n(e):t}},cDf5:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},dI71:function(e,t,r){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,"a",(function(){return i}))},er2r:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("fYA7"))},fYA7:function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var n=r("q1tI");function o(){return"undefined"!=typeof window}function a(e,t){void 0===t&&(t=[]);var r=o(),a=i(n.useState(r),1)[0];return n.useEffect((function(){e&&a&&e()}),t),a}t.useWindow=a,t.useWindowSize=function(e){void 0===e&&(e={});var t=o();function r(){return t?{height:window.innerHeight,width:window.innerWidth}:e}var s=i(n.useState(r),2),u=s[0],E=s[1];return a((function(){function e(){E(r())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),u}},h5Sn:function(e,t,r){var i=r("l62r"),n=r("4Z/T").sprintf,o=i.LOG_LEVEL,a=i.LOG_MESSAGES,s=i.RESERVED_EVENT_KEYWORDS.REVENUE,u=i.RESERVED_EVENT_KEYWORDS.VALUE;e.exports={getRevenueValue:function(e,t){if(e&&e.hasOwnProperty(s)){var r=e[s],i=parseInt(r,10);return isNaN(i)?(t.log(o.INFO,n(a.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",r)),null):(t.log(o.INFO,n(a.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i)),i)}return null},getEventValue:function(e,t){if(e&&e.hasOwnProperty(u)){var r=e[u],i=parseFloat(r);return isNaN(i)?(t.log(o.INFO,n(a.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",r)),null):(t.log(o.INFO,n(a.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i)),i)}return null}}},"hJt/":function(e,t,r){var i=r("4Z/T").sprintf,n=r("l62r").ERROR_MESSAGES,o="CONFIG_VALIDATOR",a=r("l62r").DATAFILE_VERSIONS,s=[a.V2,a.V3,a.V4];e.exports={validate:function(e){if(e.errorHandler&&"function"!=typeof e.errorHandler.handleError)throw new Error(i(n.INVALID_ERROR_HANDLER,o));if(e.eventDispatcher&&"function"!=typeof e.eventDispatcher.dispatchEvent)throw new Error(i(n.INVALID_EVENT_DISPATCHER,o));if(e.logger&&"function"!=typeof e.logger.log)throw new Error(i(n.INVALID_LOGGER,o));return!0},validateDatafile:function(e){if(!e)throw new Error(i(n.NO_DATAFILE_SPECIFIED,o));if("string"==typeof e||e instanceof String)try{e=JSON.parse(e)}catch(t){throw new Error(i(n.INVALID_DATAFILE_MALFORMED,o))}if(-1===s.indexOf(e.version))throw new Error(i(n.INVALID_DATAFILE_VERSION,o,e.version));return!0}}},i0QS:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){return void 0===r&&(r=""),t.map((function(t){var n=r;t.path&&(n="function"==typeof t.path?t.path(r).replace(/([^:]\/)\/+/g,"$1"):t.path);var o=t.routes&&t.routes.length?e(t.routes,n):void 0,a=i(i({},t),{path:n,routes:o});return Object.keys(a).forEach((function(e){a[e]||delete a[e]})),a}))}},kkxh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("BBje");t.Status=i.default},l62r:function(e,t){t.LOG_LEVEL={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},t.ERROR_MESSAGES={EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_KEY:"%s: Event key %s is not in datafile.",INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",JSON_SCHEMA_EXPECTED:"%s: JSON schema expected.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},t.LOG_MESSAGES={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SET_LOG_LEVEL:'%s: Setting log level to "%s"',SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is in "Launched" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",USER_ASSIGNED_TO_VARIATION_BUCKET:"%s: Assigned variation bucket %s to user %s.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned experiment bucket %s to user %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s bucketed into everyone targeting rule.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',USER_RECEIVED_VARIABLE_VALUE:'%s: Value for variable "%s" of feature flag "%s" is %s for user "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for experiment "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for experiment %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].'},t.DEFAULT_LOGGER_MESSAGE_TEMPLATE="%s - %s %s %s",t.RESERVED_EVENT_KEYWORDS={REVENUE:"revenue",VALUE:"value"},t.CONTROL_ATTRIBUTES={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent"},t.JAVASCRIPT_CLIENT_ENGINE="javascript-sdk",t.NODE_CLIENT_ENGINE="node-sdk",t.NODE_CLIENT_VERSION="3.0.1",t.NOTIFICATION_TYPES={ACTIVATE:"ACTIVATE:experiment, user_id,attributes, variation, event",TRACK:"TRACK:event_key, user_id, attributes, event_tags, event"},t.DECISION_SOURCES={EXPERIMENT:"experiment",ROLLOUT:"rollout"},t.FEATURE_VARIABLE_TYPES={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"},t.DATAFILE_VERSIONS={V2:"2",V3:"3",V4:"4"}},lAS9:function(e,t,r){var i=r("l62r"),n=r("IIlb"),o=r("4Z/T").sprintf,a=i.LOG_LEVEL,s=i.LOG_MESSAGES;function u(e){this.logger=e.logger,this.errorHandler=e.errorHandler,this.__notificationListeners={},n.forOwn(i.NOTIFICATION_TYPES,function(e){this.__notificationListeners[e]=[]}.bind(this)),this.__listenerId=1}u.prototype.addNotificationListener=function(e,t){try{if(!(n.values(i.NOTIFICATION_TYPES).indexOf(e)>-1))return-1;this.__notificationListeners[e]||(this.__notificationListeners[e]=[]);var r=!1;if(n.forEach(this.__notificationListeners[e],(function(e){if(e.callback===t)return r=!0,!1})),r)return-1;this.__notificationListeners[e].push({id:this.__listenerId,callback:t});var o=this.__listenerId;return this.__listenerId+=1,o}catch(s){return this.logger.log(a.ERROR,s.message),this.errorHandler.handleError(s),-1}},u.prototype.removeNotificationListener=function(e){try{var t,r;if(n.forOwn(this.__notificationListeners,(function(i,o){if(n.forEach(i,(function(i,n){if(i.id===e)return t=n,r=o,!1})),void 0!==t&&void 0!==r)return!1})),void 0!==t&&void 0!==r)return this.__notificationListeners[r].splice(t,1),!0}catch(i){this.logger.log(a.ERROR,i.message),this.errorHandler.handleError(i)}return!1},u.prototype.clearAllNotificationListeners=function(){try{n.forOwn(i.NOTIFICATION_TYPES,function(e){this.__notificationListeners[e]=[]}.bind(this))}catch(e){this.logger.log(a.ERROR,e.message),this.errorHandler.handleError(e)}},u.prototype.clearNotificationListeners=function(e){try{this.__notificationListeners[e]=[]}catch(t){this.logger.log(a.ERROR,t.message),this.errorHandler.handleError(t)}},u.prototype.sendNotifications=function(e,t){try{n.forEach(this.__notificationListeners[e],function(r){var i=r.callback;try{i(t)}catch(n){this.logger.log(a.ERROR,o(s.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,n.message))}}.bind(this))}catch(r){this.logger.log(a.ERROR,r.message),this.errorHandler.handleError(r)}},e.exports={createNotificationCenter:function(e){return new u(e)}}},lSNA:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},m0LI:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(u){n=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return r}}},m3FK:function(e,t,r){var i=r("IIlb"),n=r("l62r"),o=r("4Z/T").sprintf;function a(){}function s(e){e=i.assignIn({logLevel:n.LOG_LEVEL.ERROR,logToConsole:!0,prefix:"[OPTIMIZELY]"},e),this.logToConsole=e.logToConsole,this.prefix=e.prefix,this.setLogLevel(e.logLevel)}function u(e){switch(e){case n.LOG_LEVEL.DEBUG:return"DEBUG";case n.LOG_LEVEL.INFO:return"INFO";case n.LOG_LEVEL.WARNING:return"WARNING";case n.LOG_LEVEL.ERROR:return"ERROR";default:return"NOTSET"}}a.prototype.log=function(){},s.prototype.log=function(e,t){if(this.__shouldLog(e)){if(this.prefix){var r=u(e);t=o(n.DEFAULT_LOGGER_MESSAGE_TEMPLATE,this.prefix,r,new Date,t)}this.logToConsole&&this.__consoleLog(e,[t])}},s.prototype.setLogLevel=function(e){this.logLevel=i.values(n.LOG_LEVEL).indexOf(e)>-1?e:n.LOG_LEVEL.ERROR;var t=u(this.logLevel);this.log(n.LOG_LEVEL.DEBUG,o(n.LOG_MESSAGES.SET_LOG_LEVEL,"DEFAULT_LOGGER",t))},s.prototype.__shouldLog=function(e){return e>=this.logLevel},s.prototype.__consoleLog=function(e,t){switch(e){case n.LOG_LEVEL.DEBUG:console.log.apply(console,t);break;case n.LOG_LEVEL.INFO:console.info.apply(console,t);break;case n.LOG_LEVEL.WARNING:console.warn.apply(console,t);break;case n.LOG_LEVEL.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e.exports={createLogger:function(e){return new s(e)},createNoOpLogger:function(){return new a}}},m5xk:function(e,t,r){var i=r("rGwQ"),n=r("uIcY"),o=r("l62r"),a=r("IIlb"),s=r("9Mtp"),u=r("4Z/T").sprintf,E="DECISION_SERVICE",l=o.ERROR_MESSAGES,c=o.LOG_LEVEL,_=o.LOG_MESSAGES,f=o.DECISION_SOURCES;function p(e){this.configObj=e.configObj,this.userProfileService=e.userProfileService||null,this.logger=e.logger}p.prototype.getVariation=function(e,t,r){var i=this._getBucketingId(t,r);if(!this.__checkIfExperimentIsActive(e,t))return null;var o=this.configObj.experimentKeyMap[e],a=s.getForcedVariation(this.configObj,e,t,this.logger);if(a)return a;var l=this.__getWhitelistedVariation(o,t);if(l)return l.key;var f=this.__resolveExperimentBucketMap(t,r);if(l=this.__getStoredVariation(o,t,f))return this.logger.log(c.INFO,u(_.RETURNING_STORED_VARIATION,E,l.key,e,t)),l.key;if(!this.__checkIfUserIsInAudience(e,t,r))return null;var p=this.__buildBucketerParams(e,i,t),I=n.bucket(p);return(l=this.configObj.variationIdMap[I])?(this.__saveUserProfile(o,l,t,f),l.key):null},p.prototype.__resolveExperimentBucketMap=function(e,t){t=t||{};var r=this.__getUserProfile(e)||{},i=t[o.CONTROL_ATTRIBUTES.STICKY_BUCKETING_KEY];return a.assignIn({},r.experiment_bucket_map,i)},p.prototype.__checkIfExperimentIsActive=function(e,t){if(!s.isActive(this.configObj,e)){var r=u(_.EXPERIMENT_NOT_RUNNING,E,e);return this.logger.log(c.INFO,r),!1}return!0},p.prototype.__getWhitelistedVariation=function(e,t){if(!a.isEmpty(e.forcedVariations)&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];if(e.variationKeyMap.hasOwnProperty(r)){var i=u(_.USER_FORCED_IN_VARIATION,E,t,r);return this.logger.log(c.INFO,i),e.variationKeyMap[r]}var n=u(_.FORCED_BUCKETING_FAILED,E,r,t);return this.logger.log(c.ERROR,n),null}return null},p.prototype.__checkIfUserIsInAudience=function(e,t,r){var n=s.getExperimentAudienceConditions(this.configObj,e),o=s.getAudiencesById(this.configObj);this.logger.log(c.DEBUG,u(_.EVALUATING_AUDIENCES_COMBINED,E,e,JSON.stringify(n)));var a=i.evaluate(n,o,r,this.logger);if(this.logger.log(c.INFO,u(_.AUDIENCE_EVALUATION_RESULT_COMBINED,E,e,a.toString().toUpperCase())),!a){var l=u(_.USER_NOT_IN_EXPERIMENT,E,t,e);return this.logger.log(c.INFO,l),!1}return!0},p.prototype.__buildBucketerParams=function(e,t,r){var i={};return i.experimentKey=e,i.experimentId=s.getExperimentId(this.configObj,e),i.userId=r,i.trafficAllocationConfig=s.getTrafficAllocation(this.configObj,e),i.experimentKeyMap=this.configObj.experimentKeyMap,i.groupIdMap=this.configObj.groupIdMap,i.variationIdMap=this.configObj.variationIdMap,i.logger=this.logger,i.bucketingId=t,i},p.prototype.__getStoredVariation=function(e,t,r){if(r.hasOwnProperty(e.id)){var i=r[e.id],n=i.variation_id;if(this.configObj.variationIdMap.hasOwnProperty(n))return this.configObj.variationIdMap[i.variation_id];this.logger.log(c.INFO,u(_.SAVED_VARIATION_NOT_FOUND,E,t,n,e.key))}return null},p.prototype.__getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(r){this.logger.log(c.ERROR,u(l.USER_PROFILE_LOOKUP_ERROR,E,e,r.message))}},p.prototype.__saveUserProfile=function(e,t,r,i){if(this.userProfileService)try{var n=a.cloneDeep(i);n[e.id]={variation_id:t.id},this.userProfileService.save({user_id:r,experiment_bucket_map:n}),this.logger.log(c.INFO,u(_.SAVED_VARIATION,E,t.key,e.key,r))}catch(o){this.logger.log(c.ERROR,u(l.USER_PROFILE_SAVE_ERROR,E,r,o.message))}},p.prototype.getVariationForFeature=function(e,t,r){var i=this._getVariationForFeatureExperiment(e,t,r);if(null!==i.variation)return this.logger.log(c.DEBUG,u(_.USER_IN_FEATURE_EXPERIMENT,E,t,i.variation.key,i.experiment.key,e.key)),i;this.logger.log(c.DEBUG,u(_.USER_NOT_IN_FEATURE_EXPERIMENT,E,t,e.key));var n=this._getVariationForRollout(e,t,r);return null!==n.variation?(this.logger.log(c.DEBUG,u(_.USER_IN_ROLLOUT,E,t,e.key)),n):(this.logger.log(c.DEBUG,u(_.USER_NOT_IN_ROLLOUT,E,t,e.key)),{experiment:null,variation:null,decisionSource:null})},p.prototype._getVariationForFeatureExperiment=function(e,t,r){var i=null,n=null;if(e.hasOwnProperty("groupId")){var o=this.configObj.groupIdMap[e.groupId];o&&(i=this._getExperimentInGroup(o,t))&&-1!==e.experimentIds.indexOf(i.id)&&(n=this.getVariation(i.key,t,r))}else e.experimentIds.length>0?(i=s.getExperimentFromId(this.configObj,e.experimentIds[0],this.logger))&&(n=this.getVariation(i.key,t,r)):this.logger.log(c.DEBUG,u(_.FEATURE_HAS_NO_EXPERIMENTS,E,e.key));var a=null;return null!==n&&null!==i&&(a=i.variationKeyMap[n]),{experiment:i,variation:a,decisionSource:f.EXPERIMENT}},p.prototype._getExperimentInGroup=function(e,t){var r=n.bucketUserIntoExperiment(e,t,t,this.logger);if(null!==r){this.logger.log(c.INFO,u(_.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,E,t,r,e.id));var i=s.getExperimentFromId(this.configObj,r,this.logger);if(i)return i}return this.logger.log(c.INFO,u(_.USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP,E,t,e.id)),null},p.prototype._getVariationForRollout=function(e,t,r){if(!e.rolloutId)return this.logger.log(c.DEBUG,u(_.NO_ROLLOUT_EXISTS,E,e.key)),{experiment:null,variation:null,decisionSource:f.ROLLOUT};var i=this.configObj.rolloutIdMap[e.rolloutId];if(!i)return this.logger.log(c.ERROR,u(l.INVALID_ROLLOUT_ID,E,e.rolloutId,e.key)),{experiment:null,variation:null,decisionSource:f.ROLLOUT};if(0===i.experiments.length)return this.logger.log(c.ERROR,u(_.ROLLOUT_HAS_NO_EXPERIMENTS,E,e.rolloutId)),{experiment:null,variation:null,decisionSource:f.ROLLOUT};var o,a,s,p,I,d=this._getBucketingId(t,r),g=i.experiments.length-1;for(o=0;o<g;o++){if(a=this.configObj.experimentKeyMap[i.experiments[o].key],this.__checkIfUserIsInAudience(a.key,t,r)){if(this.logger.log(c.DEBUG,u(_.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,E,t,o+1)),s=this.__buildBucketerParams(a.key,d,t),p=n.bucket(s),I=this.configObj.variationIdMap[p])return this.logger.log(c.DEBUG,u(_.USER_BUCKETED_INTO_TARGETING_RULE,E,t,o+1)),{experiment:a,variation:I,decisionSource:f.ROLLOUT};this.logger.log(c.DEBUG,u(_.USER_NOT_BUCKETED_INTO_TARGETING_RULE,E,t,o+1));break}this.logger.log(c.DEBUG,u(_.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,E,t,o+1))}var N=this.configObj.experimentKeyMap[i.experiments[g].key];if(this.__checkIfUserIsInAudience(N.key,t,r)){if(s=this.__buildBucketerParams(N.key,d,t),p=n.bucket(s),I=this.configObj.variationIdMap[p])return this.logger.log(c.DEBUG,u(_.USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE,E,t)),{experiment:N,variation:I,decisionSource:f.ROLLOUT};this.logger.log(c.DEBUG,u(_.USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE,E,t))}return{experiment:null,variation:null,decisionSource:f.ROLLOUT}},p.prototype._getBucketingId=function(e,t){var r=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(o.CONTROL_ATTRIBUTES.BUCKETING_ID)&&("string"==typeof t[o.CONTROL_ATTRIBUTES.BUCKETING_ID]?(r=t[o.CONTROL_ATTRIBUTES.BUCKETING_ID],this.logger.log(c.DEBUG,u(_.VALID_BUCKETING_ID,E,r))):this.logger.log(c.WARNING,u(_.BUCKETING_ID_NOT_STRING,E))),r},e.exports={createDecisionService:function(e){return new p(e)}}},nx31:function(e,t,r){var i=r("4Z/T").sprintf,n=r("l62r").ERROR_MESSAGES;e.exports={validate:function(e){if("function"!=typeof e.lookup)throw new Error(i(n.INVALID_USER_PROFILE_SERVICE,"USER_PROFILE_SERVICE_VALIDATOR","Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(i(n.INVALID_USER_PROFILE_SERVICE,"USER_PROFILE_SERVICE_VALIDATOR","Missing function 'save'"));return!0}}},pVnL:function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},r.apply(this,arguments)}e.exports=r},puIA:function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r("IP+g")),i(r("qHsl")),i(r("55Ip"))},qHsl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("+QdD");t.Routing=i.default},rGwQ:function(e,t,r){var i=r("Mclf"),n=r("CMYY"),o=r("l62r"),a=r("4Z/T").sprintf,s=o.LOG_LEVEL,u=o.LOG_MESSAGES;e.exports={evaluate:function(e,t,r,o){if(!e||0===e.length)return!0;r||(r={});var E=function(e){return n.evaluate(e,r,o)};return i.evaluate(e,(function(e){var r=t[e];if(r){o.log(s.DEBUG,a(u.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(r.conditions)));var n=i.evaluate(r.conditions,E),l=null===n?"UNKNOWN":n.toString().toUpperCase();return o.log(s.INFO,a(u.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,l)),n}return null}))||!1}}},rePB:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i}))},uIcY:function(e,t,r){var i=r("l62r"),n=r("ohnt"),o=r("4Z/T").sprintf,a=i.ERROR_MESSAGES,s=i.LOG_LEVEL,u=i.LOG_MESSAGES,E=Math.pow(2,32);e.exports={bucket:function(t){var r=t.experimentKeyMap[t.experimentKey].groupId;if(r){var i=t.groupIdMap[r];if(!i)throw new Error(o(a.INVALID_GROUP_ID,"BUCKETER",r));if("random"===i.policy){var n=e.exports.bucketUserIntoExperiment(i,t.bucketingId,t.userId,t.logger);if(null===n){var E=o(u.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",t.userId,r);return t.logger.log(s.INFO,E),null}if(n!==t.experimentId){var l=o(u.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,r);return t.logger.log(s.INFO,l),null}var c=o(u.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,r);t.logger.log(s.INFO,c)}}var _=o("%s%s",t.bucketingId,t.experimentId),f=e.exports._generateBucketValue(_),p=o(u.USER_ASSIGNED_TO_VARIATION_BUCKET,"BUCKETER",f,t.userId);t.logger.log(s.DEBUG,p);var I=e.exports._findBucket(f,t.trafficAllocationConfig);if(null===I){var d=o(u.USER_HAS_NO_VARIATION,"BUCKETER",t.userId,t.experimentKey);t.logger.log(s.DEBUG,d)}else{if(""===I||!t.variationIdMap.hasOwnProperty(I)){var g=o(u.INVALID_VARIATION_ID,"BUCKETER");return t.logger.log(s.WARNING,g),null}var N=t.variationIdMap[I].key,O=o(u.USER_HAS_VARIATION,"BUCKETER",t.userId,N,t.experimentKey);t.logger.log(s.INFO,O)}return I},bucketUserIntoExperiment:function(t,r,i,n){var a=o("%s%s",r,t.id),E=e.exports._generateBucketValue(a);n.log(s.DEBUG,o(u.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",E,i));var l=t.trafficAllocation;return e.exports._findBucket(E,l)},_findBucket:function(e,t){for(var r=0;r<t.length;r++)if(e<t[r].endOfRange)return t[r].entityId;return null},_generateBucketValue:function(e){try{var t=n.v3(e,1);return parseInt(1e4*(t/E),10)}catch(r){throw new Error(o(a.INVALID_BUCKETING_ID,"BUCKETER",e,r.message))}}}},vuIU:function(e,t,r){"use strict";function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.d(t,"a",(function(){return n}))},w4IE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("yhUc");t.Routes=i.default},wTVA:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},wkBT:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},wx14:function(e,t,r){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return i}))},yhUc:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r("q1tI")),a=r("55Ip"),s=r("kkxh");t.default=function(e){var t=e.as,r=e.config.map((function(e,t){return o.default.createElement(a.Route,{key:t,exact:e.exact,path:e.path,strict:e.strict,render:function(t){return o.default.createElement(s.Status,{statusCode:e.statusCode,staticContext:t.staticContext},o.default.createElement(e.component,i({},t,e)))}})}));return"switch"===t?o.default.createElement(a.Switch,null,r):o.default.createElement(o.default.Fragment,null,r)}},zLVn:function(e,t,r){"use strict";function i(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}r.d(t,"a",(function(){return i}))},zLpE:function(e,t,r){var i=r("IIlb");e.exports={dispatchEvent:function(e,t){var r,i=e.url,o=e.params;"POST"===e.httpVerb?((r=new XMLHttpRequest).open("POST",i,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t(o)}catch(e){}},r.send(JSON.stringify(o))):(i+="?wxhr=true",o&&(i+="&"+n(o)),(r=new XMLHttpRequest).open("GET",i,!0),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t()}catch(e){}},r.send())}};var n=function(e){return i.map(e,(function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)})).join("&")}},zibu:function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);e.exports=function(){return r(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}}}]);